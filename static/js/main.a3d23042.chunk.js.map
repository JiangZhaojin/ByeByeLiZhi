{"version":3,"sources":["static/picture/alipay.jpeg","static/picture/weibo.jpeg","static/picture/wechatpay.png","style.js","music/menu/style.js","music/menu/index.tsx","music/playbar/style.js","music/playbar/index.tsx","music/comment/style.js","music/comment/index.tsx","music/style.js","music/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","GlobalStyle","createGlobalStyle","MenuWrapper","styled","div","Menu","MenuCover","img","MenuText","MusicWrapper","MusicContent","MusicItem","ReturnBtn","span","Menus","muneScrollTop","wrapperElement","state","category","this","setState","e","scrollTop","contents","menu","props","list","find","item","music","id","curCateId","curMusicId","musics","map","index","cateId","musicId","key","className","onClick","onClickMusic","String","name","handleReturnClick","bind","cate","hanleMenuClick","src","cover","ref","el","onScroll","handleScrollMenu","Component","PlayBarWrapper","ControlBtn","Btn","Progress","ProgressTitle","ProgressBar","ProgressContent","ProgressTime","Voice","VoiceIcon","VoiceBar","VoiceContent","PlayBar","audioElement","isPause","currentTime","duration","ratio","getRatio","voiceRatio","nextProps","handleTimeupdate","document","title","pause","play","time","Math","floor","substring","now","total","readyState","jumpMusic","event","getOffsetRatio","volume","currentTarget","getBoundingClientRect","width","left","clientX","offset","forEach","length","findIndex","nextIndex","playclass","currentTimeStr","getTimeString","durationStr","handlePrevClick","handlePausePlay","handleNextClick","handleProgressClick","style","handleVoiceClick","autoPlay","onPlay","handleAudioPlay","onTimeUpdate","onEnded","CommentWrapper","CommentContent","TipsWrapper","Downloader","a","Comment","WechatImg","AlipayImg","WeiboImg","window","AV","leanStor","Valine","appId","appKey","notify","verify","avatar","placeholder","pageSize","target","href","MusicPlay","arg","musicList","handleChangeMusic","App","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a3d23042.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/alipay.8ef0f0ea.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/weibo.990e4da1.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/wechatpay.f2880030.png\";","import { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyle = createGlobalStyle`\n\thtml, body, div, span, applet, object, iframe,\n\th1, h2, h3, h4, h5, h6, p, blockquote, pre,\n\ta, abbr, acronym, address, big, cite, code,\n\tdel, dfn, em, img, ins, kbd, q, s, samp,\n\tsmall, strike, strong, sub, sup, tt, var,\n\tb, u, i, center,\n\tdl, dt, dd, ol, ul, li,\n\tfieldset, form, label, legend,\n\ttable, caption, tbody, tfoot, thead, tr, th, td,\n\tarticle, aside, canvas, details, embed, \n\tfigure, figcaption, footer, header, hgroup, \n\tmenu, nav, output, ruby, section, summary,\n\ttime, mark, audio, video {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tborder: 0;\n\t\tfont-size: 100%;\n\t\tfont: inherit;\n\t\tvertical-align: baseline;\n\t}\n\t/* HTML5 display-role reset for older browsers */\n\tarticle, aside, details, figcaption, figure, \n\tfooter, header, hgroup, menu, nav, section {\n\t\tdisplay: block;\n\t}\n\tbody {\n        line-height: 1;\n\t\tbackground: #eee;\n\t}\n\tol, ul {\n\t\tlist-style: none;\n\t}\n\tblockquote, q {\n\t\tquotes: none;\n\t}\n\tblockquote:before, blockquote:after,\n\tq:before, q:after {\n\t\tcontent: '';\n\t\tcontent: none;\n\t}\n\ttable {\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n    }\n\ta {\n\t\tcolor: inherit;\n\t\ttext-decoration: none;\n\t}\n    html, body, #root, .app {\n        height: 100%;\n        width: 100%;\n\t\toverflow: auto;\n    }\n`;\n","import styled from 'styled-components';\n\nexport const MenuWrapper = styled.div`\n    flex: 1;\n    overflow: auto;\n    height: 100%;\n    border-radius: 4px;\n    border-right: 1px solid #eee;\n    @media (max-width: 500px) {\n        height: auto;\n    }\n`;\n\nexport const Menu = styled.div`\n    width: 20%;\n    margin-top: 50px;\n    margin-left: 10%;\n    display: inline-block;\n    cursor: pointer;\n`;\n\nexport const MenuCover = styled.img`\n    display: block;\n    border-radius: 4px;\n    width: 100%;\n`;\n\nexport const MenuText = styled.div`\n    padding: 12px 0;\n    text-align: center;\n    color: #333;\n    font-size: 14px;\n`;\n\nexport const MusicWrapper = styled.div`\n    height: 100%;\n    box-sizing: border-box;\n`;\n\nexport const MusicContent = styled.div`\n    padding: 0 50px 50px 50px;\n    height: calc(100% - 106px);\n    overflow: auto;\n    box-sizing: border-box;\n`;\n\nexport const MusicItem = styled.div`\n    padding: 16px 40px;\n    font-size: 14px;\n    color: #333;\n    cursor: pointer;\n    border-radius: 27px;\n    &:hover {\n        background: rgba(0, 0, 0, .1);\n    }\n    &.active {\n        background: url('https://y.gtimg.cn/mediastyle/yqq/img/wave.gif?max_age=2592000&v=78979d47cc7dc55cab5d36b4c96168d5') 90% 20px no-repeat;\n        background-color: rgba(0, 0, 0, .2);\n        background-size: 12px;\n    }\n`;\n\nexport const ReturnBtn = styled.span`\n    display: inline-block;\n    cursor: pointer;\n    font-size: 16px;\n    margin: 50px 0 20px 86px;\n    color: #333;\n    padding: 10px 50px;\n    border-radius: 25px;\n    background: rgba(0, 0, 0, .1);\n    &:hover {\n        background: rgba(0, 0, 0, .2);\n    }\n`;\n\nexport const MusicPlayingIcon = styled.img`\n    display: block;\n    width: 16px;\n    height: 16px;\n`;","import React, { Component } from 'react';\nimport { \n\tMenuWrapper,\n\tMenu,\n\tMenuCover,\n\tMenuText,\n\tMusicWrapper,\n\tMusicContent,\n\tReturnBtn,\n\tMusicItem\n} from './style.js';\n\ninterface MenuProps {\n    list: MusicCategory[],\n\t\tmusic: Music,\n\t\tonClickMusic: Function\n}\n\ninterface MenuState {\n    category: Number\n}\n\nexport default class Menus extends Component<MenuProps, MenuState> {\n\tmuneScrollTop: number = 0;\n\twrapperElement: any = null;\n    state = {\n        category: -1,\n\t}\n\thanleMenuClick(category: Number) {\n\t\tthis.setState({ category });\n\t}\n\thandleReturnClick() {\n\t\tthis.setState({ category: -1 });\n\t}\n\thandleScrollMenu(e: any) {\n\t\tif (this.state.category !== -1) return;\n\t\tthis.muneScrollTop = this.wrapperElement.scrollTop;\n\t}\n\tcomponentDidUpdate() {\n\t\tif (this.state.category === -1) {\n\t\t\tthis.wrapperElement.scrollTop = this.muneScrollTop;\n\t\t}\n\t}\n    render() {\n\t\tconst menu: MusicCategory | undefined = this.props.list.find(item => item.category === this.state.category);\n\t\tconst [curCateId, curMusicId] = this.props.music.id;\n\t\tlet contents: any;\n\t\tif (menu) {\n\t\t\tcontents = menu.musics.map((music, index) => {\n\t\t\t\tconst [cateId, musicId] = music.id;\n\t\t\t\treturn (\n\t\t\t\t\t<MusicItem \n\t\t\t\t\t\tkey={musicId} \n\t\t\t\t\t\tclassName={cateId === curCateId && musicId === curMusicId ? 'active': ''} \n\t\t\t\t\t\tonClick={() => { this.props.onClickMusic(music) }}>\n\t\t\t\t\t\t\t{String(index + 1)+ '. ' + music.name}\n\t\t\t\t\t</MusicItem>\n\t\t\t\t)\n\t\t\t})\n\t\t\tcontents = (\n\t\t\t\t<MusicWrapper>\n\t\t\t\t\t<ReturnBtn onClick={this.handleReturnClick.bind(this)} className=\"iconfont icon-fanhui\"></ReturnBtn>\n\t\t\t\t\t<MusicContent>{contents}</MusicContent>\n\t\t\t\t</MusicWrapper>\n\t\t\t)\n\t\t} else {\n\t\t\tcontents = this.props.list.map(cate => {\n\t\t\t\treturn (\n\t\t\t\t\t<Menu onClick={this.hanleMenuClick.bind(this, cate.category)} key={cate.category}>\n\t\t\t\t\t\t<MenuCover src={cate.cover}></MenuCover>\n\t\t\t\t\t\t<MenuText>{cate.name}</MenuText>\n\t\t\t\t\t</Menu>\n\t\t\t\t)\n\t\t\t})\n\t\t}\n\t\treturn <MenuWrapper ref={(el: any) => this.wrapperElement = el} onScroll={this.handleScrollMenu.bind(this)}>{contents}</MenuWrapper>\n    }\n}\n","import styled from 'styled-components';\n\nexport const PlayBarWrapper = styled.div`\n    position: fixed;\n    bottom: 0;\n    height: 110px;\n    box-sizing: border-box;\n    padding: 34px 120px;\n    width: 100%;\n    background: white;\n    box-shadow: 0 -2px 4px #dfdfdf;\n    display: flex;\n    @media (max-width: 500px) {\n        padding: 10px;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n    }\n`;\n\nexport const ControlBtn = styled.div`\n    display: inline-block;\n    width: 220px;\n`;\n\nexport const Btn = styled.span`\n    display: inline-block;\n    width: 40px;\n    margin-left: 30px;\n    cursor: pointer;\n    &.iconfont {\n        font-size: 35px!important;\n        color: #333;\n    }\n`;\n\nexport const Progress = styled.div`\n    display: inline-block;\n    flex: 1;\n    height: 100%;\n    position: relative;\n    padding: 0 2%;\n    box-sizing: border-box;\n    font-size: 14px;\n    @media (max-width: 500px) {\n        display: none;\n    }\n`;\n\nexport const ProgressTitle = styled.div`\n    float: left;\n`;\n\nexport const ProgressBar = styled.div`\n    background: #ddd;\n    height: 4px;\n    width: 100%;\n    background: #eee;\n    border-radius: 2px;\n    margin-top: 28px;\n    cursor: pointer;\n`;\n\nexport const ProgressContent = styled.div`\n    background: #999;\n    border-radius: 2px;\n    height: 100%;\n    position: relative;\n    &::after {\n        content: '';\n        height: 8px;\n        width: 8px;\n        border-radius: 4px;\n        background: white;\n        box-shadow: 0 0 4px #999;\n        position: absolute;\n        right: -4px;\n        top: -2px;\n    }\n`;\n\nexport const ProgressTime = styled.div`\n    float: right;\n`;\n\nexport const Voice = styled.div`\n    display: flex;\n    align-items: center;\n    width: 220px;\n    @media (max-width: 500px) {\n        display: none;\n    }\n`;\n\nexport const VoiceIcon = styled.span`\n    padding: 12px 20px;\n    &.iconfont {\n        font-size: 22px;\n        color: #333;\n    }\n\n`;\n\nexport const VoiceBar = styled.div`\n    flex: 1;\n    background: #ddd;\n    height: 4px;\n    width: calc(100% - 160px);\n    background: #eee;\n    border-radius: 2px;\n    cursor: pointer;\n`;\n\nexport const VoiceContent = styled.div`\n    background: #999;\n    border-radius: 2px;\n    height: 100%;\n    position: relative;\n    &::after {\n        content: '';\n        height: 8px;\n        width: 8px;\n        border-radius: 4px;\n        background: white;\n        box-shadow: 0 0 4px #999;\n        position: absolute;\n        right: -4px;\n        top: -2px;\n    }\n`;","import React, { Component } from 'react';\nimport { \n    PlayBarWrapper, \n    ControlBtn, \n    Btn,\n    Progress,\n    ProgressTitle,\n    ProgressBar,\n    ProgressTime,\n    ProgressContent,\n    Voice,\n    VoiceIcon,\n    VoiceBar,\n    VoiceContent\n} from './style.js';\n\ninterface PlayBarProps {\n    list: MusicCategory[],\n    music: Music,\n    onClickMusic: Function\n}\n\ninterface PlayBarState {\n    isPause: boolean,\n    currentTime: number,\n    duration: number,\n    ratio: string,\n    voiceRatio: string\n}\n\nexport default class PlayBar extends Component<PlayBarProps, PlayBarState> {\n  audioElement: HTMLAudioElement | null = null;\n  state = {\n      isPause: true,\n      currentTime: 0,\n      duration: 0,\n      ratio: this.getRatio(0),\n      voiceRatio: this.getRatio(1, 1)\n  }\n  componentWillReceiveProps(nextProps: PlayBarProps) {\n    if (this.props.music !== nextProps.music) {\n      this.handleTimeupdate();\n    }\n  }\n  componentDidUpdate() {\n      document.title = this.props.music.name || '正在播放...';\n  }\n  pause() {\n      this.audioElement && this.audioElement.pause();\n  }\n  play() {\n      this.audioElement && this.audioElement.play();\n  }\n  getTimeString(time: number): string {\n    const m = ('0' + Math.floor(time / 60)).substring(0, 2);\n    const s = ('0' + Math.floor(time % 60)).substring(0, 2);\n    return m + ':' + s;\n  }\n  getRatio(now: number = 0, total: number = 0): string {\n    return total === 0 ? '0%' : (now / total) * 100 + '%';\n  }\n  handlePausePlay() {\n      if (!this.audioElement) return;\n      if (this.audioElement.readyState === 0) {\n        this.props.onClickMusic(this.props.list[0].musics[0]);\n      } else {\n        this.state.isPause ? this.play() : this.pause();\n        this.setState(state => ({ isPause: !state.isPause }));\n      }\n  }\n  handleTimeupdate() {\n    if (!this.audioElement) return;\n    const { currentTime, duration } = this.audioElement;\n    this.setState({\n      currentTime: currentTime || 0,\n      duration: duration || 0,\n      ratio: this.getRatio(currentTime, duration),\n    });\n  }\n  handleAudioPlay() {\n    this.setState(state => ({ isPause: false }));\n  }\n  handlePrevClick() {\n    this.jumpMusic(-1);\n  }\n  handleNextClick() {\n    this.jumpMusic(1);\n  }\n  handleProgressClick(event: any) {\n    const ratio = this.getOffsetRatio(event);\n    const currentTime = ratio * this.state.duration;\n    this.audioElement && (this.audioElement.currentTime = currentTime);\n  }\n  handleVoiceClick(event: any) {\n    const ratio = this.getOffsetRatio(event);\n    this.audioElement && (this.audioElement.volume = ratio);\n    this.setState({voiceRatio: ratio * 100 + '%'});\n  }\n  getOffsetRatio(event: any): number {\n    const { width, left } = event.currentTarget.getBoundingClientRect();\n    const ratio = (event.clientX - left) / width;\n    return ratio > 1 ? 1 : (ratio < 0 ? 0 : ratio);\n  }\n  jumpMusic(offset: number) {\n    const [curCateId, curMusicId] = this.props.music.id;\n    this.props.list.forEach(cate => {\n      if (cate.category === curCateId) {\n        const length = cate.musics.length;\n        const index = cate.musics.findIndex(music => music.id[1] === curMusicId);\n        const nextIndex = (offset % length + length + index) % length;\n        this.props.onClickMusic(cate.musics[nextIndex]);\n        return;\n      }\n    });\n  }\n  render() {\n      const playclass = 'iconfont icon-' + (this.state.isPause ? 'bofang' : 'zanting');\n      const currentTimeStr = this.getTimeString(this.state.currentTime);\n      const durationStr = this.getTimeString(this.state.duration);\n      return (\n          <PlayBarWrapper>\n              <ControlBtn>\n                  <Btn className=\"iconfont icon-shangyishou1\" onClick={this.handlePrevClick.bind(this)}></Btn>\n                  <Btn className={playclass} onClick={this.handlePausePlay.bind(this)}></Btn>\n                  <Btn className=\"iconfont icon-xiayishou\" onClick={this.handleNextClick.bind(this)}></Btn>\n              </ControlBtn>\n              <Progress>\n                <ProgressTitle>{this.props.music.name + (this.state.currentTime > 0 ? '' : '（缓冲较慢，请耐心等候）')}</ProgressTitle>\n                <ProgressTime>{currentTimeStr + ' / ' + durationStr}</ProgressTime>\n                <ProgressBar onClick={this.handleProgressClick.bind(this)}>\n                  <ProgressContent style={{ width: this.state.ratio}}></ProgressContent>\n                </ProgressBar>\n              </Progress>\n              <Voice>\n                <VoiceIcon className=\"iconfont icon-shengyin\"></VoiceIcon>\n                <VoiceBar onClick={this.handleVoiceClick.bind(this)}>\n                  <VoiceContent style={{ width: this.state.voiceRatio }}></VoiceContent>\n                </VoiceBar>\n              </Voice>\n              <audio \n                autoPlay \n                src={this.props.music.src} \n                ref={el => this.audioElement = el}\n                onPlay={this.handleAudioPlay.bind(this)}\n                onTimeUpdate={this.handleTimeupdate.bind(this)}\n                onEnded={this.handleNextClick.bind(this)}></audio>\n          </PlayBarWrapper>\n      )\n  }\n}\n","import styled from 'styled-components';\nimport AlipayImg from '../../static/picture/alipay.jpeg';\nimport WeiboImg from '../../static/picture/weibo.jpeg';\nimport WechatImg from '../../static/picture/wechatpay.png';\n// import BaiduImg from '../../static/picture/baidudisk.png';\n\n\nexport const CommentWrapper = styled.div`\n    position: relative\n    width: 400px;\n    max-width: 100%;\n`;\n\nexport const CommentContent = styled.div`\n    overflow: auto;\n    height: calc(100% - 40px);\n    padding: 20px;\n    box-sizing: border-box;\n`;\n\nexport const TipsWrapper = styled.div`\n    width: 100%;\n    display: flex;\n    border-top: 1px solid #eee;\n    font-size: 14px;\n    color: #333;\n    font-weight: bold;\n    text-align: center;\n`;\n\nexport const Downloader = styled.a`\n    flex: 1;\n    padding: 13px 4px;\n    border-right: 1px solid #eee;\n    background-size: 60%;\n    cursor: pointer;\n    &:hover {\n        color: #1abc9c;\n    }\n`;\n\nexport const MoneyInfo = styled.div`\n    flex: 2;\n    padding: 4px;\n    overflow: hidden;\n    line-height: 1.4;\n`;\n\nexport const MoneyCode = styled.div`\n    float: right;\n    padding: 44px;\n    background: url(${WechatImg}) no-repeat;\n    background-size: contain;\n`;\n\nexport const MoneyCode2 = styled.div`\n    float: right;\n    padding: 44px;\n    background: url(${AlipayImg}) no-repeat 50% 50%;\n    background-size: contain;\n`;\n\nexport const DevelopInfo = styled.a`\n    flex: 1;\n    padding: 20px 4px;\n    border-right: 1px solid #eee;\n    box-sizing: border-box;\n    background: url(${WeiboImg}) no-repeat 50% 70%;\n    background-size: 120%;\n    cursor: pointer;\n    &:hover {\n        box-shadow: 0 0 8px #1abc9c;\n        z-index: 1;\n    }\n`;","import React, { Component } from 'react';\nimport Valine from 'valine';\nimport leanStor from 'leancloud-storage';\nimport {\n  CommentWrapper,\n  CommentContent,\n  // DevelopInfo,\n  Downloader,\n  TipsWrapper,\n  // MoneyInfo,\n  // MoneyCode,\n  // MoneyCode2,\n} from './style.js';\n\nimport './polyfill.css';\n\nexport default class Comment extends Component<any> {\n  componentDidMount() {\n    window.AV = leanStor;\n    new Valine({\n      el: '#vcomments' ,\n      appId: 'i1youaNIFoYRKQnwxjUybheo-gzGzoHsz',\n      appKey: 'GKvFx4a9VWmkqKfkkYGKudF4',\n      notify: false, \n      verify: false, \n      avatar: 'monsterid', \n      placeholder: '说点什么吧～',\n      pageSize: 10\n    });\n  }\n  render() {\n    return (\n      <CommentWrapper>\n        <CommentContent id=\"vcomments\"></CommentContent>\n        <TipsWrapper>\n          <Downloader target=\"_blank\" href=\"https://github.com/JiangZhaojin/ByeByeLiZhi/tree/master/music\">去GitHub下载</Downloader>\n          {/* <DevelopInfo target=\"_blank\" href=\"https://weibo.com/u/6894442207\">联系开发者</DevelopInfo> */}\n          {/* <MoneyInfo>\n            <div>请开发者喝奶茶</div>\n            <MoneyCode></MoneyCode>\n            <MoneyCode2></MoneyCode2>\n          </MoneyInfo> */}\n        </TipsWrapper>\n      </CommentWrapper>\n    )\n  }\n}\n","import styled from 'styled-components';\n\nexport const MusicWrapper = styled.div`\n    width: 90%;\n    margin: 0 auto;\n    min-width; 600px;\n    max-width: 1600px;\n    display: flex;\n    margin-top: 80px;\n    height: calc(100% - 270px);\n    background: white;\n    border-radius: 10px;\n    overflow: hidden;\n    @media (max-width: 500px) {\n        display: block;\n        width: 100%;\n        height: calc(100% - 120px);\n        border-radius: 0;\n        margin: 0;\n        overflow: auto;\n    }\n`;","import React, { Component, Fragment } from 'react';\n\nimport Menu from './menu/index';\nimport Player from './playbar/index';\nimport Comment from './comment/index';\nimport musicList from './data/music.json';\nimport { MusicWrapper } from './style.js';\n\ninterface MusicPlayState {\n  music: Music,\n  musicList: MusicCategory[]\n}\n\nexport default class MusicPlay extends Component<any, MusicPlayState> {\n  state = {\n    music: {\n      id: [0, 0],\n      name: '选择歌曲播放吧',\n      src: ''\n    },\n    musicList\n  }\n  constructor(arg: any) {\n    super(arg);\n    this.handleChangeMusic = this.handleChangeMusic.bind(this);\n  }\n  handleChangeMusic(music: Music) {\n    this.setState({ music });\n  }\n  render() {\n    return (\n      <Fragment>\n        <MusicWrapper>\n          <Menu list={this.state.musicList} music={this.state.music} onClickMusic={this.handleChangeMusic}></Menu>\n          <Comment></Comment>\n        </MusicWrapper>\n        <Player list={this.state.musicList} music={this.state.music} onClickMusic={this.handleChangeMusic}></Player>\n      </Fragment>\n    );\n  }\n}\n","import React from 'react';\nimport { GlobalStyle } from './style.js';\n\nimport Music from './music/index';\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"app\">\n      <GlobalStyle />\n      <Music />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './static/font/iconfont.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}